"use client";

import React, { useState } from "react";
import { BsPlus, BsDash } from "react-icons/bs";
import { motion, AnimatePresence } from "framer-motion";
import Image from "next/image";

const faqs = [
  {
    question: "What exactly is Botox?",
    answer:
      "Botox is a brand name for a purified protein derived from Clostridium botulinum bacterium. When injected in very small, controlled amounts, it temporarily blocks nerve signals to specific muscles, causing them to relax. This relaxation reduces the appearance of dynamic wrinkles that form due to repetitive muscle movements.",
  },
  {
    question: "How does Botox work to reduce wrinkles?",
    answer:
      "Botox works by temporarily paralyzing or relaxing the underlying muscles responsible for dynamic wrinkles (e.g., frowning, squinting, raising eyebrows). When these muscles cannot contract, the overlying skin smooths out, reducing the appearance of lines and creases.",
  },
  {
    question: "What types of wrinkles does Botox treat?",
    answer:
      'Botox is primarily effective for dynamic wrinkles, which are visible when you make facial expressions. These include: Forehead lines (horizontal lines across the forehead), Frown lines (vertical "11" lines between the eyebrows), Crow\'s feet (lines radiating from the corners of the eyes). Dr. Kunal Sayani also uses Botox for "bunny lines" on the nose, chin dimpling, and neck bands.',
  },
  {
    question: "Who is a good candidate for Botox injections?",
    answer:
      "Good candidates are typically healthy adults who are concerned about dynamic wrinkles. They should have realistic expectations about the results. Dr. Kunal Sayani will conduct a thorough medical history and facial assessment during your consultation to determine if Botox is right for you.",
  },
  {
    question: "Is Botox safe?",
    answer:
      "Yes, Botox has an excellent safety record and has been FDA-approved for cosmetic use for many years. When administered by a qualified and experienced aesthetic surgeon like Dr. Kunal Sayani, who understands facial anatomy and uses proper technique, the risks are minimal.",
  },
];

export default function FAQSection() {
  const [openIndex, setOpenIndex] = useState(null);
  const toggleFAQ = (index) => {
    setOpenIndex(openIndex === index ? null : index);
  };

  return (
    <section className="flex justify-center px-4 md:px-8 my-16">
      <div className="flex flex-col lg:flex-row w-full max-w-[1300px] gap-8">
        {/* Image Section */}
        <div className="relative w-full md:w-[485px] h-[300px] md:h-[461px] rounded-xl overflow-hidden shadow-lg">
          <Image
            src={"/images/services/nonsurgical/Botox (wrinkles-anti-ageing).jpg"}
            alt="Facial treatment"
            layout="fill"
            objectFit="cover"
            quality={100}
          />
          <div className="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/100 to-transparent text-white p-6">
            <div className="flex items-center space-x-2 mb-2">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                className="h-6 w-6 text-white"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  strokeWidth={2}
                  d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"
                />
              </svg>
              <span className="text-lg font-semibold">Opening Hours:</span>
            </div>
            <p className="text-sm">Mon - Sat : 10.00 AM - 8.00PM</p>
            <p className="text-sm">Sunday : Closed</p>
          </div>
        </div>

        {/* FAQ Section */}
        <div className="w-full">
          <h2 className="text-3xl md:text-5xl mb-6 text-[#10217D] font-marcellus">
            Got questions? We've got answers!
          </h2>
          <div className="space-y-4">
            {faqs.map((faq, index) => {
              const isOpen = openIndex === index;
              return (
                <div
                  key={index}
                  className={`border rounded-lg overflow-hidden transition-all duration-300 shadow-sm ${
                    isOpen ? "border-[#40AEB9]" : "border-gray-200"
                  }`}
                >
                  <button
                    onClick={() => toggleFAQ(index)}
                    className="w-full px-4 py-4 bg-white flex justify-between items-center 
                    text-left hover:bg-gray-50 focus:outline-none"
                  >
                    <span className="text-base md:text-lg font-semibold text-[#000000]">
                      {faq.question}
                    </span>
                    <motion.span
                      className="text-2xl text-[#40AEB9]"
                      initial={false}
                      animate={{ rotate: isOpen ? 180 : 0 }}
                      transition={{ duration: 0.3 }}
                    >
                      {isOpen ? <BsDash /> : <BsPlus />}
                    </motion.span>
                  </button>

                  <AnimatePresence initial={false}>
                    {isOpen && (
                      <motion.div
                        key="content"
                        initial={{ opacity: 0, height: 0 }}
                        animate={{ opacity: 1, height: "auto" }}
                        exit={{ opacity: 0, height: 0 }}
                        transition={{ duration: 0.3 }}
                      >
                        <div className="px-4 pb-4 bg-[#f9fafa]">
                          <p className="text-gray-700 text-sm md:text-base">
                            {faq.answer}
                          </p>
                        </div>
                      </motion.div>
                    )}
                  </AnimatePresence>
                </div>
              );
            })}
          </div>
        </div>
      </div>
    </section>
  );
}
