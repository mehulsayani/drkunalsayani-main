"use client";

import React, { useState } from "react";
import { BsPlus, BsDash } from "react-icons/bs";
import { motion, AnimatePresence } from "framer-motion";
import Image from "next/image";

const faqs = [
  {
    question:
      "Who is a good candidate for female genital cosmetic surgery with Dr. Kunal Sayani?",
    answer:
      "Women who are generally healthy, have realistic expectations, and are bothered by the appearance or feel of their external genitalia due to genetics, childbirth, aging, or discomfort. Dr. Kunal Sayani emphasizes that procedures are customized to individual needs and desires.",
  },
  {
    question: "What are the common reasons women seek these procedures?",
    answer:
      "Reasons vary widely and can include:\n• Physical discomfort during exercise, sexual activity, or wearing tight clothing.\n• Self-consciousness or embarrassment about the appearance of the labia or clitoral hood.\n• Asymmetry or disproportionate labial size.\n• Vaginal laxity after childbirth impacting sexual sensation.\n• Desire for improved aesthetic balance or a more youthful appearance.",
  },
  {
    question: "Will these procedures affect my sexual sensation or function?",
    answer:
      "Dr. Kunal Sayani performs these procedures with meticulous care to preserve nerve function and enhance comfort. Many patients report improved sexual sensation and enjoyment after procedures like labiaplasty (due to reduced discomfort) or vaginoplasty (due to increased tightness). However, any surgery carries a rare risk of altered sensation, which will be thoroughly discussed.",
  },
  {
    question: "How long does the surgery take?",
    answer:
      "The duration varies depending on the specific procedure and its complexity. Most procedures, like labiaplasty or clitoral hood reduction, typically take between 1 to 2 hours. More comprehensive procedures might take longer.",
  },
  {
    question: "What kind of anesthesia is used?",
    answer:
      "Depending on the procedure and patient preference, Dr. Kunal Sayani may use local anesthesia with sedation, or general anesthesia. This will be discussed during your consultation.",
  },
];

export default function FAQSection() {
  const [openIndex, setOpenIndex] = useState(null);
  const toggleFAQ = (index) => {
    setOpenIndex(openIndex === index ? null : index);
  };

  return (
    <section className="flex justify-center px-4 md:px-8 my-16">
      <div className="flex flex-col lg:flex-row w-full max-w-[1300px] gap-8">
        {/* Image Section */}
        <div className="relative w-full md:w-[485px] h-[300px] md:h-[461px] rounded-xl overflow-hidden shadow-lg">
          <Image
            src="/images/services/body/tummytuck/timing.jpg"
            alt="Clinic Hours"
            layout="fill"
            objectFit="cover"
            quality={100}
          />
          <div className="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/100 to-transparent text-white p-6">
            <div className="flex items-center space-x-2 mb-2">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                className="h-6 w-6 text-white"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  strokeWidth={2}
                  d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"
                />
              </svg>
              <span className="text-lg font-semibold">Opening Hours:</span>
            </div>
            <p className="text-sm">Mon - Sat : 10.00 AM - 8.00 PM</p>
            <p className="text-sm">Sunday : Closed</p>
          </div>
        </div>

        {/* FAQ Section */}
        <div className="w-full">
          <h2 className="text-3xl md:text-5xl mb-6 text-[#10217D] font-marcellus">
            Got questions? We've got answers!
          </h2>
          <div className="space-y-4">
            {faqs.map((faq, index) => {
              const isOpen = openIndex === index;
              return (
                <div
                  key={index}
                  className={`border rounded-lg overflow-hidden transition-all duration-300 shadow-sm ${
                    isOpen ? "border-[#40AEB9]" : "border-gray-200"
                  }`}
                >
                  <button
                    onClick={() => toggleFAQ(index)}
                    className="w-full px-4 py-4 bg-white flex justify-between items-center text-left hover:bg-gray-50 focus:outline-none"
                  >
                    <span className="text-base md:text-lg font-semibold text-[#000000]">
                      {faq.question}
                    </span>
                    <motion.span
                      className="text-2xl text-[#40AEB9]"
                      initial={false}
                      animate={{ rotate: isOpen ? 180 : 0 }}
                      transition={{ duration: 0.3 }}
                    >
                      {isOpen ? <BsDash /> : <BsPlus />}
                    </motion.span>
                  </button>

                  <AnimatePresence initial={false}>
                    {isOpen && (
                      <motion.div
                        key="content"
                        initial={{ opacity: 0, height: 0 }}
                        animate={{ opacity: 1, height: "auto" }}
                        exit={{ opacity: 0, height: 0 }}
                        transition={{ duration: 0.3 }}
                      >
                        <div className="px-4 pb-4 bg-[#f9fafa] whitespace-pre-line">
                          <p className="text-gray-700 text-sm md:text-base">
                            {faq.answer}
                          </p>
                        </div>
                      </motion.div>
                    )}
                  </AnimatePresence>
                </div>
              );
            })}
          </div>
        </div>
      </div>
    </section>
  );
}
